void 0===Shopify.Cart&&(Shopify.Cart={}),Shopify.Cart.getCartShippingRates=function(e,a,t){t=t||Shopify.Cart.onError,jQuery.ajax({url:Shopify.root_url+"/cart/shipping_rates.json",type:"GET",data:$.param({shipping_address:e})}).done(function(t){a(t.shipping_rates,e)}).fail(function(e,a){t(e,a)})},Shopify.Cart.getShippingCart=function(e,a){$.ajax({type:"POST",url:Shopify.root_url+"/cart.js",data:{"attributes[theme_shipping]":JSON.stringify(a)},dataType:"json"});var t=$(".get__shipping"),r=$(".content__shipping"),s=$(".cartCost"),n=$(".cartCostTotal.plus_shipping"),i=$(".address__shipping");t.attr("data-curr-address",JSON.stringify(a));var o="";if("1"!==a.zip&&(o+=a.zip+", "),a.province!==a.country&&(o+=a.province+", "),o+=a.country,i.html(o).show(),$(".toggle_ship").show(),0==e.length)$('[data-tab-content="tab-floating-shipping"]').removeClass("has-data"),r.html('<td colspan="2"><div class="alert alert-danger" role="alert">There are no shipping methods available for your cart or destination.</div></td>');else{var d='<td class="item__shipping" colspan="2">';$.each(e,function(e,a){if(d+='<div class="item_shipp">',d+='<div class="item_shipp_name form-check">',d+='<input id="item_spp'+e+'" class="form-check-input" type="radio" name="shipping-cart-offcanvas" data-name="'+a.code+'" value="'+a.price+'" placeholder=""',d+=0==e?'checked="checked">':">",d+='<label class="content-item__shipping form-check-label m-0" for="item_spp'+e+'">',d+='<span class="name-item__shipping">'+a.name,a.delivery_days.length>0?(d+='</span><span class="delivery_days-item__shipping"> (',a.delivery_days.length>=2?d+=a.delivery_days[0]+"-"+a.delivery_days[1]+" days)</span>":d+=a.delivery_days[0]+" day)</span>"):d+="</span>",d+="</label>",null!==a.delivery_date){d+='<div class="data-item__shipping"> Get by it ';var t={weekday:"long",year:"numeric",month:"long",day:"numeric"},r=new Date(a.delivery_date);d+=r.toLocaleDateString("en-US",t),d+="</div>"}d+="</div>",d+='<div class="item_shipp_price">',d+='<span class="price-item__shipping">'+formatMoney_(100*a.price)+"</span>",d+="</div>",d+="</div>"}),d+="</td>",r.html(d).show()}r.css("opacity",""),$(".calculate__shipping").removeClass("loading"),$(".wrapper__shipping").removeClass("show"),$(".afterShip,.cartSubTotalWrap").show();var p=parseFloat(s.attr("data-price")),c=100*parseFloat(r.find('input[type="radio"][checked="checked"]').val());n.html(formatMoney_(p+c))},Shopify.Cart.fullMessagesFromErrors=function(e){var a=[];return jQuery.each(e,function(e,t){jQuery.each(t,function(t,r){a.push(e+" "+r)})}),a},Shopify.Cart.onError=function(XMLHttpRequest,textStatus){var feedback="",data=eval("("+XMLHttpRequest.responseText+")");"Error : country is not supported."==(feedback=data.message?data.message+"("+data.status+"): "+data.description:"Error : "+Shopify.Cart.fullMessagesFromErrors(data).join("; ")+".")&&(feedback="We do not ship to this destination."),$(".content__shipping").html(feedback).show(),$(".calculate__shipping").addClass("error").removeClass("loading")},Shopify.Cart.alert=function(e,a,t){},Shopify.Cart.getCountry=function(){if("undefined"!=typeof Storage&&void 0!==sessionStorage.dataCountry)return $("#address_country").html(sessionStorage.dataCountry),void Shopify.Cart.buildCountry();jQuery.ajax({url:Shopify.root_url+"/cart?view=listcountry",type:"GET",dataType:"html",compvare:function(e,a){},success:function(e,a,t){$("#address_country").html(e),sessionStorage.dataCountry=e,Shopify.Cart.buildCountry()},error:function(e,a,t){}})},Shopify.Cart.buildCountry=function(){void 0!==$('[name="address[country]"]').attr("data-default")&&$('[name="address[country]"]').val($('[name="address[country]"] option[value="'+$('[name="address[country]"]').attr("data-default")+'"]').val());$('[name="address[country]"] option:selected').html();if("[]"!==(e=$('[name="address[country]"] option:selected').attr("data-provinces"))){var e=JSON.parse($('[name="address[country]"] option:selected').attr("data-provinces")),a=$('[name="address[province]"]').attr("data-default"),t="";$.each(e,function(e,r){void 0!==a&&r[0]==a?($('[data-select="#address__province"]').html(r[1]),t+='<option selected="selected" value="'+r[0]+'">'+r[1]+"</option>"):0==e?($('[data-select="#address__province"]').html(r[1]),t+='<option selected="selected" value="'+r[0]+'">'+r[1]+"</option>"):t+='<option value="'+r[0]+'">'+r[1]+"</option>"}),$('[name="address[province]"]').html(t).show().parent().show()}else $('[name="address[province]"]').html("").hide().parent().hide();if(void 0!==$(".get__shipping").attr("data-curr-address")){var r=JSON.parse($(".get__shipping").attr("data-curr-address"));Shopify.Cart.getCartShippingRates(r,Shopify.Cart.getShippingCart,Shopify.Cart.onError)}},$(document).on("change",'[name="address[country]"]',function(){var e=$('[name="address[country]"] option:selected').html(),a=$(this).find("option:selected").attr("data-provinces");if($(this).parent().find(".label_hidden_select").html(e),"[]"!==a){var a=JSON.parse($(this).find("option:selected").attr("data-provinces")),t=$('[name="address[province]"]').attr("data-default"),r="";$.each(a,function(e,a){void 0!==t&&a[0]==t?($('[data-select="#address__province"]').html(a[1]),r+='<option selected="selected" value="'+a[0]+'">'+a[1]+"</option>"):0==e?($('[data-select="#address__province"]').html(a[1]),r+='<option selected="selected" value="'+a[0]+'">'+a[1]+"</option>"):r+='<option value="'+a[0]+'">'+a[1]+"</option>"}),$('[name="address[province]"]').html(r).show().parent().show(),$('[name="address[zip]"]').val("").show().parent().show()}else $('[name="address[province]"]').html("").hide().parent().hide();KT.drawResize()}).on("change",'[name="address[province]"]',function(){var e=$('[name="address[province]"] option:selected').html();$(this).parent().find(".label_hidden_select").html(e),KT.drawResize()}).on("click",".calculate__shipping",function(){var e={zip:$('[name="address[zip]"]').val(),country:$('[name="address[country]"]').val(),province:null!==$('[name="address[province]"]').val()?$('[name="address[province]"]').val():$('[name="address[country]"]').val()};JSON.stringify(e)!==$(".get__shipping").attr("data-curr-address")?($(this).addClass("loading"),Shopify.Cart.getCartShippingRates(e,Shopify.Cart.getShippingCart,Shopify.Cart.onError)):$(".wrapper__shipping").removeClass("show")}).on("change",'[name="shipping-cart-offcanvas"]',function(){var e=parseFloat($(".cartCost").attr("data-price")),a=100*parseFloat($(this).val());$(".show__shipping-price").html(formatMoney_(a)),$(".cartCostTotal").html(formatMoney_(e+a))}),document.addEventListener("DOMContentLoaded",function(e){$("#address_country").length>0&&$("body.template-cart").length>0&&("undefined"!=typeof Storage&&void 0!==sessionStorage.dataCountry?($("#address_country").html(sessionStorage.dataCountry),Shopify.Cart.buildCountry()):Shopify.Cart.getCountry())});