void 0===Shopify.Cart&&(Shopify.Cart={}),function(t){"use strict";Shopify.Cart.getCartPage=function(){t.ajax({url:Shopify.root_url+"/cart?view=page-ajax",type:"GET"}).done(function(a){a=a.split("\x3c!-- summary-discounts --\x3e"),t("#cart-form").html(a[0]),a[1].length>0?t(".summary-discounts").html(a[1]).removeClass("d-none"):t(".summary-discounts").html(a[1]).addClass("d-none"),t("#cart-form").removeClass("loading")}).fail(function(){console.log("error get cart"),location.reload()}).always(function(){})},t(document).on("change","#cart-form",function(a){a.preventDefault(),t(this).addClass("loading");var r=t(this).serialize();t.ajax({url:Shopify.root_url+"/cart/update.js",type:"POST",dataType:"json",data:r}).done(function(a){if(a.item_count>0){if(0!=Shopify.KT_addGift(a))return;Shopify.Cart.getCartPage(),t(".cartCount").text(a.item_count),t(".cartCost").attr("data-price",a.total_price).html(formatMoney_(a.original_total_price));var r=100*parseFloat(t(".content__shipping").find('input[type="radio"][checked="checked"]').val())||0;if(t(".cartCostTotal").html(formatMoney_(a.total_price+r)),t(".spendFreeShip").length>0){var e=t(".spendFreeShip"),o=parseInt(e.find("[aria-valuemax]").attr("aria-valuemax")),n=e.find(".progress-bar");o>a.total_price?(n.attr("aria-valuenow",o-a.total_price).css("width",a.total_price/o*100+"%").text(Math.round(a.total_price/o*100)+"%"),e.find(".text_progress span:first-child").html(theme.function.threshold_cart.replace("#more",formatMoney_(o-a.total_price))),e.removeClass("congratulations")):(n.attr("aria-valuenow",o).css("width","100%").text("100%"),e.addClass("congratulations"))}}else t(".cart-has-content").remove(),t(".cart-empty-content").removeClass("d-none")}).fail(function(){alert("error update cart"),location.reload()}).always(function(a){if(t("#address_country").length>0&&(t("#address_country option").length<=0&&Shopify.Cart.getCountry(),void 0!==t(".get__shipping").attr("data-curr-address")&&a.item_count>0&&(t(".get__shipping").show(),t("#address_country option").length>0))){var r=JSON.parse(t(".get__shipping").attr("data-curr-address"));Shopify.Cart.getCartShippingRates(r,Shopify.Cart.getShippingCart,Shopify.Cart.onError)}})}),t(document).on("click","a.btn-remove",function(a){a.preventDefault(),t(this).parents("tr").find(".input-qty").val(0).trigger("change")})}(jQuery);